yum -y install wget bzip2 gcc gcc-c++ glibc-headers
wget -c -P /opt/tmp/ https://mirrors.tuna.tsinghua.edu.cn/gnu/gcc/gcc-8.2.0/gcc-8.2.0.tar.gz
cd /opt/tmp/
tar zxvf gcc-8.2.0.tar.gz
cd gcc-8.2.0

#下载gmp mpfr mpc
./contrib/download_prerequisites		                    
cd ../    
#不能在source目录下configure必须在上一层的目录下
mkdir build-gcc-8.2 					                    
cd build-gcc-8.2
../gcc-8.2.0/configure --prefix=/usr/local/gcc --enable-bootstrap --enable-checking=release --enable-languages=c,c++ --disable-multilib
make -j 4
make install

#配置环境变量
#查看当前gcc版本
gcc -v                                                                           
echo -e '\nexport PATH=/usr/local/gcc/bin:$PATH\n' >> /etc/profile.d/gcc.sh && source /etc/profile.d/gcc.sh
#导出头文件
ln -sv /usr/local/gcc/include/ /usr/include/gcc
#导出库文件
vim /etc/ld.so.conf.d/gcc.conf
/usr/local/gcc/lib64		#64位系统
ldconfig -v					#配置生效
ldconfig -p |grep gcc		#导出验证